{"ast":null,"code":"import _slicedToArray from\"C:/Users/Gerome/Desktop/react_practice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useContext,useEffect,useState}from'react';import{Link,useHistory}from'react-router-dom';import{CartContext}from'./products/CartContext';import Firebase from'./login/Firebase';import Login from\"./login/Login\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Navbar=function Navbar(){var _useContext=useContext(CartContext),value=_useContext.value;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),emailError=_useState8[0],setEmailError=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),passwordError=_useState10[0],setPasswordError=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),hasAccount=_useState12[0],setHasAccount=_useState12[1];var history=useHistory();var clearInputs=function clearInputs(){setEmail(\"\");setPassword(\"\");};var clearErrors=function clearErrors(){setEmailError(\"\");setPasswordError(\"\");};var handleLogin=function handleLogin(){clearErrors();Firebase.auth().signInWithEmailAndPassword(email,password).catch(function(err){switch(err.code){case\"auth/invalid-email\":case\"auth/user-disabled\":case\"auth/user-not-found\":setEmailError(err.message);break;case\"auth/wrong-password\":setPasswordError(err.message);break;default:break;}});};var handleSignup=function handleSignup(){clearErrors();Firebase.auth().createUserWithEmailAndPassword(email,password).catch(function(err){switch(err.code){case\"auth/email-already-in-use\":case\"auth/invalid-email\":setEmailError(err.message);break;case\"auth/weak-password\":setPasswordError(err.message);break;default:break;}});};var handleLogout=function handleLogout(){Firebase.auth().signOut();history.push(\"/\");};var authListener=function authListener(){Firebase.auth().onAuthStateChanged(function(user){if(user){clearInputs();setUser(user);history.push(\"/store\");}else{setUser(\"\");}});};useEffect(function(){authListener();},[]);return/*#__PURE__*/_jsx(\"div\",{children:user?/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"ShopNow\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"links\",children:[/*#__PURE__*/_jsx(Link,{to:\"/store\",children:\"Store\"}),/*#__PURE__*/_jsxs(Link,{to:\"/cart\",children:[\"\\uD83D\\uDED2 Cart (\",value,\")\"]}),/*#__PURE__*/_jsx(Link,{to:\"/reviews\",children:\"Reviews\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:\"Logout\"})]})]}):/*#__PURE__*/_jsx(Login,{email:email,setEmail:setEmail,password:password,setPassword:setPassword,handleLogin:handleLogin,handleSignup:handleSignup,hasAccount:hasAccount,setHasAccount:setHasAccount,emailError:emailError,passwordError:passwordError})});};export default Navbar;","map":{"version":3,"sources":["C:/Users/Gerome/Desktop/react_practice/src/components/Navbar.js"],"names":["useContext","useEffect","useState","Link","useHistory","CartContext","Firebase","Login","Navbar","value","user","setUser","email","setEmail","password","setPassword","emailError","setEmailError","passwordError","setPasswordError","hasAccount","setHasAccount","history","clearInputs","clearErrors","handleLogin","auth","signInWithEmailAndPassword","catch","err","code","message","handleSignup","createUserWithEmailAndPassword","handleLogout","signOut","push","authListener","onAuthStateChanged"],"mappings":"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","sourcesContent":["import { useContext, useEffect, useState } from 'react';\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport { CartContext } from './products/CartContext';\r\nimport Firebase from './login/Firebase';\r\nimport Login from \"./login/Login\";\r\n\r\nconst Navbar = () => {\r\n\r\n    const {value} = useContext(CartContext);\r\n\r\n    const [user, setUser] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [emailError, setEmailError] = useState('');\r\n    const [passwordError, setPasswordError] = useState('');\r\n    const [hasAccount, setHasAccount] = useState(false);\r\n\r\n    const history = useHistory();\r\n  \r\n    const clearInputs = () => {\r\n        setEmail(\"\")\r\n        setPassword(\"\")\r\n    }\r\n  \r\n    const clearErrors = () => {\r\n        setEmailError(\"\")\r\n        setPasswordError(\"\")\r\n    }\r\n  \r\n    const handleLogin = () => {\r\n        clearErrors();\r\n        Firebase\r\n            .auth()\r\n            .signInWithEmailAndPassword(email, password)\r\n            .catch(err => {\r\n                switch(err.code) {\r\n                case \"auth/invalid-email\":\r\n                case \"auth/user-disabled\":\r\n                case \"auth/user-not-found\":\r\n                    setEmailError(err.message);\r\n                    break;\r\n                case \"auth/wrong-password\":\r\n                    setPasswordError(err.message)\r\n                    break;\r\n                default:\r\n                    break;\r\n                }\r\n            })\r\n        \r\n    }\r\n  \r\n    const handleSignup = () => {\r\n        clearErrors();\r\n        Firebase\r\n            .auth()\r\n            .createUserWithEmailAndPassword(email, password)\r\n            .catch(err => {\r\n                switch(err.code) {\r\n                    case \"auth/email-already-in-use\":\r\n                    case \"auth/invalid-email\":\r\n                        setEmailError(err.message);\r\n                        break;\r\n                    case \"auth/weak-password\":\r\n                        setPasswordError(err.message)\r\n                        break;\r\n                    default:\r\n                        break\r\n                }\r\n            })\r\n    }\r\n  \r\n    const handleLogout = () => {\r\n        Firebase.auth().signOut();\r\n        history.push(\"/\");\r\n    }\r\n  \r\n    const authListener = () => {\r\n        Firebase.auth().onAuthStateChanged(user => {\r\n        if (user) {\r\n            clearInputs()\r\n            setUser(user)\r\n            history.push(\"/store\")\r\n        } else {\r\n            setUser(\"\")\r\n        }\r\n        })\r\n    }\r\n  \r\n    useEffect( () => {\r\n      authListener();\r\n    }, [])\r\n\r\n    return ( \r\n        <div>\r\n            {user ? (\r\n                <nav className=\"navbar\">\r\n                    <h1>ShopNow</h1>\r\n                    <div className=\"links\">\r\n                        <Link to=\"/store\">Store</Link>\r\n                        <Link to=\"/cart\">ðŸ›’ Cart ({value})</Link>\r\n                        <Link to=\"/reviews\">Reviews</Link>\r\n                        <button onClick={handleLogout}>Logout</button>\r\n                    </div>\r\n                </nav>\r\n                ) : (\r\n                    <Login \r\n                    email={email} \r\n                    setEmail={setEmail} \r\n                    password={password} \r\n                    setPassword={setPassword} \r\n                    handleLogin={handleLogin}\r\n                    handleSignup={handleSignup}\r\n                    hasAccount={hasAccount}\r\n                    setHasAccount={setHasAccount}\r\n                    emailError={emailError}\r\n                    passwordError={passwordError}\r\n                    />\r\n                )\r\n            }\r\n        </div> \r\n    );\r\n}\r\n \r\nexport default Navbar;"]},"metadata":{},"sourceType":"module"}